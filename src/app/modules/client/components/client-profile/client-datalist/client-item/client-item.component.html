<section id="company_list" class="mt-5">

  <div class="row">

    <div class="col-md-12">

      <mat-accordion>
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header [ngClass]="{'selectedCardClass':panelOpenState==true}">
            <mat-panel-title>

              <img [src]="company.logoWeb" class="rounded" width="40" height="40">


              <div style="width:100%; color: black;" class="text-center">

                <span class="fontForInputs" style="font-weight:bold ;">
                  {{'HR.TITLES.COMPANYDATA'|translate}}
                </span>

                <span class="fontForInputs mx-5">
                  {{company.companyName}}
                </span>

                <span class="fontForInputs" style="font-weight:bold ;">
                  {{'HR.TITLES.COMPANYCODE'|translate}}
                </span>

                <span class="fontForInputs mx-5">
                  {{company.code}}
                </span>

                <span class="fontForInputs" style="font-weight:bold ;">
                  {{'HR.TITLES.COUNTUSERS'|translate}}
                </span>

                <span class="fontForInputs">
                  {{company.mobileUsersCount}}
                </span>


                <a *ngIf="company.isActive== true"
                  class="btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
                  data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
                  {{'HR.TITLES.COMPANYACTIVE'|translate}}
                </a>

                <a *ngIf="company.isActive== false"
                  class="btn btn-sm btn-light-danger fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
                  data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
                  {{'HR.TITLES.COMPANYNOTACTIVE'|translate}}
                </a>

              </div>

            </mat-panel-title>
          </mat-expansion-panel-header>


          <div class="row p-5">


            <div class="col-md-12">

              <div class="row">

                <div class="col-md-2">

                  <div class="row text-center">

                    <div class="d-flex justify-content-center align-items-center gap-1">
                      <div class="container">
                        <img class="card-img-top" [src]="company.logoWeb" style="width:80px;height:80px;"
                          alt="Card image">
                        <div class="centered badge badge-dark HintsStyles"> {{"HR.INPUTS.LOGOWEB" | translate}}
                        </div>
                        <span class="top-right">
                          <input id="file-logoWeb" type="file" class="mx-2 btn btn-danger"
                            (change)="logoWebChange($event)" placeholder="" name="logoWeb">
                          <label
                            style="align-content:center;background-color: #c5c5c5;cursor: pointer;padding: 2px;border-radius: 20px;"
                            for="file-logoWeb">
                            <mat-icon style="font-size:18px ;display: inline;">edit
                            </mat-icon>
                          </label>
                        </span>
                      </div>
                    </div>

                  </div>


                  <div class="row text-center mt-2">

                    <div class="d-flex justify-content-center align-items-center gap-1">
                      <div class="container">
                        <img class="card-img-top" [src]="company.logoPrint" style="width:80px;height:80px ;"
                          alt="Card image">
                        <div class="centered badge badge-dark HintsStyles"> {{"HR.INPUTS.LOGOPRINT" | translate}}
                        </div>
                        <span class="top-right">
                          <input id="file-logoPrint" type="file" class="mx-2" (change)="logoPrintChange($event)"
                            placeholder="Placeholder" name="logoPrint">
                          <label for="file-logoPrint"
                            style="align-content:center ;background-color: #c5c5c5;cursor: pointer;padding: 2px;border-radius: 20px;">
                            <mat-icon style="font-size:18px ;display: inline;">edit
                            </mat-icon>
                          </label>
                        </span>
                      </div>
                    </div>



                  </div>

                </div>

                <div class="col-md-10 fontForInputs">

                  <div class="row">

                    <div class="col-md-8">

                      <div class="d-flex align-items-center mb-2">
                        <a
                          class="text-gray-800 text-hover-primary fs-2 fw-bolder me-1 cursor-pointer">{{company.companyName}}</a>

                        <a class="cursor-pointer"><span class="svg-icon svg-icon-1 svg-icon-primary"></span></a>

                        <a *ngIf="company.isActive== true"
                          class="btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
                          data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
                          {{'HR.TITLES.COMPANYACTIVE'|translate}}
                        </a>

                        <a *ngIf="company.isActive== false"
                          class="btn btn-sm btn-light-danger fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
                          data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
                          {{'HR.TITLES.COMPANYNOTACTIVE'|translate}}
                        </a>

                        <span class="mx-2">
                          <section matTooltip="{{company.isActive==true?('HR.TITLES.SETNOTACTIVE'|translate):('HR.TITLES.SETACTIVE'|translate)}}"
                            class="example-section">
                            <mat-slide-toggle name="isValTaxActive" class="example-margin" [color]="'primary'"
                              (click)="activeCompany()" [checked]="company.isActive">
                            </mat-slide-toggle>
                          </section>
                        </span>

                      </div>



                      <div class="d-flex flex-wrap mt-4">

                        <a class="
													d-flex
													align-items-center
													text-gray-400 text-hover-primary
													HintsStyles
													cursor-pointer
												  ">
                          <mat-icon class="fs-1">account_circle</mat-icon>
                          {{company.managerName}}
                        </a>

                        <a class="mx-2
												d-flex
												align-items-center
												text-gray-400 text-hover-primary
												HintsStyles
												cursor-pointer
											  ">
                          {{company.managerPosition}}
                        </a>

                        <a class="mx-2
												d-flex
												align-items-center
												text-gray-400 text-hover-primary
												HintsStyles
												cursor-pointer
											  ">
                          <mat-icon class="fs-1">settings_phone</mat-icon>

                          {{company.phoneNumber}}
                        </a>


                        <a class="mx-2
												  d-flex
												  align-items-center
												  text-gray-400 text-hover-primary
												  HintsStyles
												  cursor-pointer
												">
                          <mat-icon class="fs-1"> location_on</mat-icon>

                          {{company.address}}
                        </a>


                        <a class="mx-2
												  d-flex
												  align-items-center
												  text-gray-400 text-hover-primary
												  HintsStyles
												  cursor-pointer
												">
                          <mat-icon class="fs-1"> email</mat-icon>
                          {{company.email}}
                        </a>

                      </div>

                    </div>

                    <div class="col-md-4">
                      <div class="d-flex align-items-start justify-content-end">

                        <button class="btn btn-primary col-md-6 mx-1" (click)="openDialog(company.id)">
                          <span class="fontForInputs">
                            {{'HR.BUTTONS.EDITCOMPANY'|translate}}
                          </span>
                        </button>
                        <button class="btn btn-light col-md-6 mx-1" (click)="setCompanyIdGettingBranches(company.id) ">
                          <span class="fontForInputs">
                            {{'HR.BUTTONS.VIEWBRANCHS'|translate}}
                          </span>
                        </button>



                      </div>
                    </div>

                  </div>

                  <div class="row mt-5">
                    <div class="col-md-8">
                      <table class="table" style="width:100% ;">

                        <tr style="border-bottom:1px dotted #5a5a5a ;">
                          <th style="padding: 10px;font-weight: bold;">{{'HR.TITLES.GOVERNORATE'|translate}}</th>
                          <td style="padding: 10px;">{{company.state}}</td>
                          <th style="padding: 10px;font-weight: bold;">{{'HR.TITLES.REGION'|translate}}</th>
                          <td style="padding: 10px;">{{company.region}} </td>
                        </tr>

                        <tr style="border-bottom:1px dotted #5a5a5a ;">
                          <th style="padding: 10px;font-weight: bold;"> {{'HR.TITLES.COMMERCIALRECORD'|translate}} </th>
                          <td style="padding: 10px;">{{company.commercialRecord}} </td>
                          <th style="padding: 10px;font-weight: bold;">{{'HR.TITLES.TAXCARDNUMBER'|translate}}</th>
                          <td style="padding: 10px;">{{company.taxCardNo}}</td>
                        </tr>
                      </table>
                    </div>

                    <div class="col-md-4">

                      <table class="table" style="width:100% ;">
                        <tr style="border-bottom:1px dotted #5a5a5a ;">
                          <th style="padding: 10px;font-weight: bold;">{{'HR.TITLES.WTAX'|translate}}</th>
                          <td style="padding: 10px;">{{company.wTax}}</td>
                          <th style="padding: 10px;font-weight: bold;">{{'HR.TITLES.ACTIVITY'|translate}}</th>
                          <td style="padding: 10px;">{{company.activity}}</td>
                        </tr>

                        <tr style="border-bottom:1px dotted #5a5a5a ;">
                          <th style="padding: 10px;font-weight: bold;">{{'STAX'|translate}}</th>
                          <td style="padding: 10px;">{{company.vatTax}}</td>
                        </tr>
                      </table>
                    </div>
                  </div>


                </div>

              </div>

            </div>


          </div>


          <div class="row" *ngIf="companyIdForShowingBranches != 0">
            <branchs-c [companyId]="companyIdForShowingBranches"></branchs-c>
          </div>


        </mat-expansion-panel>
      </mat-accordion>






    </div>
  </div>


</section>
